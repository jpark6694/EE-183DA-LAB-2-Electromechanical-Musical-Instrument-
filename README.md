# DESCRIPTION:

This is the second lab of my EE 183DA design course (Robotic System Design). We are required to build an electromechanical musical instrument driven by a ESP8266 microcontroller with WiFi-imported features. This instrument has to have both autonomous and human-controlled operation modes. It will also be commanded via an internet-based web interface. For my design, I created a simplified drum that is programmed to follow a musical piece with a set of different beats. The following beats include quarter notes, half notes, and whole notes. The user is able to create a musical piece of their choice with HTTP using their mobile phones or other internet devices. My focus on this design were mainly on the use of servos and the use of internet of things.

The DRUM BEAT MACHINE is a mechanism, which creates different beats with a drumming stick that is tapping onto some object. It is connected to a 9G continuous rotation servo, acting as the actuator to move the stick. The servo is controlled using the ESP8266 microcontroller with an included WiFi module. To control the beats, the user connects to the WiFi module using any web-interface device, such as tablets, phones, and desktops. By connecting to the "Hello_IoT" access point, the user can open up a menu with set of buttons by typing in the ip address (192.168.4.1) into the browser URL. The set of buttons are the following: quarter note, half note, whole note, start music, and reset music. The user can send a command to the machine to play a sequence of beats of their choice using the quarter note, half note, and whole note buttons. Then, the user can start the music by pushing the start music button. Finally, the user can reset the sequence of beats using the reset music button.

# DECISIONS:

From the beginning of the lab, I ran into several issues with the MCU. One of the issue I ran into was trying to connect the MCU to the port. My desktop could not find the MCU that was connected to the port. I found that the solution was because I needed to use a serial data micro USB cable. Any other micro USB cable will not allow the MCU to be detected.

Another issue I ran into with the MCU was a FLASH_DOWNLOAD_ERROR. The problem was that my previous PCB that I designed for the machine somehow shorted the pull down resistor which intentionally sets the GPIO0 pin to low. This messed up my MCU reset function, which prevented me from uploading my code. The solution that I found was to connect the GPIO0 pin to the GND pin using a push pin. I manually reset the MCU by pushing and holding the RESET button, pushing and holding the push pin, releasing the RESET button, and finally, releasing the push pin all while uploading the code.

Furthermore, the previous design was trashed due to a broken non-continuous rotation servo. The non-continous rotation servo gear cracked due to stress from an attached heavy object. It is recommended that you do NOT connect a material onto the servo, which it cannot pick up. But, if you have a non-continous rotation servo, I recommend using that instead of the continuous rotation servo because the continuous rotation servo CANNOT be sweeped into a fixed angle (It will simplify the design).

Further developing this lab, we can add another servo to the linkage that is moved with the other servo. This will allow us to drum at a certain range of area instead of one position.

# END
